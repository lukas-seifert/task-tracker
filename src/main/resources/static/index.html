<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Tracker</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
<div class="app">
    <header class="app-header">
        <h1>Task Tracker</h1>
        <p class="app-subtitle">Simple task management application.</p>
    </header>

    <main class="app-main">
        <!-- Projects-Card (left) -->
        <section class="card" id="projects-card">
            <div class="card-header" style="display:flex; justify-content:space-between; align-items:center;">
                <h2>Projects</h2>
                <button id="projects-refresh-btn" class="btn btn-secondary">Refresh</button>
            </div>

            <h3 id="project-form-title" class="projects-subtitle" style="margin-top:0.2rem;">
                Create project
            </h3>

            <form id="project-form" class="form">
                <div class="form-row">
                    <label for="project-name">Name</label>
                    <input type="text" id="project-name" required maxlength="120"
                           placeholder="e.g. Task Tracker, Master Thesis">
                </div>

                <div class="form-row">
                    <label for="project-description">Description</label>
                    <textarea id="project-description" maxlength="500" rows="2"
                              placeholder="Optional: describe what this project is about"></textarea>
                </div>

                <div class="form-row">
                    <label for="project-color">Color (optional)</label>
                    <input type="text" id="project-color" maxlength="20"
                           placeholder="e.g. #3b82f6 or blue">
                </div>

                <div class="form-actions">
                    <button type="submit" id="project-submit-btn" class="btn btn-primary">
                        Create project
                    </button>
                    <button type="button" id="project-cancel-btn" class="btn btn-secondary" style="display:none;">
                        Cancel
                    </button>
                </div>
            </form>

            <h3 class="projects-subtitle">Existing projects</h3>
            <ul id="projects-list" class="projects-list">
                <!-- populated by app.js -->
            </ul>
        </section>

        <!-- Formular / Edit-Card (middle) -->
        <section class="card" id="task-card">
            <h2 id="form-title">Create Task</h2>

            <form id="task-form" class="form">

                <div class="form-row">
                    <label for="title">Title</label>
                    <input type="text" id="title" required maxlength="100"
                           placeholder="Write a clear, short title">
                </div>

                <div class="form-row">
                    <label for="description">Description</label>
                    <textarea id="description" maxlength="1000" rows="3"
                              placeholder="Optional: add some details"></textarea>
                </div>

                <div class="form-row form-row-inline">
                    <div>
                        <label for="priority">Priority</label>
                        <select id="priority">
                            <option value="LOW">LOW</option>
                            <option value="MEDIUM" selected>MEDIUM</option>
                            <option value="HIGH">HIGH</option>
                        </select>
                    </div>
                    <div>
                        <label for="status">Status</label>
                        <select id="status">
                            <option value="OPEN">OPEN</option>
                            <option value="IN_PROGRESS">IN_PROGRESS</option>
                            <option value="DONE">DONE</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <label for="project">Project</label>
                    <select id="project">
                        <option value="">No project</option>
                        <!-- options injected by app.js -->
                    </select>
                </div>

                <div class="form-row">
                    <label for="dueDate">Due date</label>
                    <input type="date" id="dueDate">
                </div>

                <div class="form-actions">
                    <button type="submit" id="submit-btn" class="btn btn-primary">
                        Create task
                    </button>
                    <button type="button" id="cancel-edit-btn" class="btn btn-secondary" style="display: none;">
                        Cancel
                    </button>
                </div>
            </form>
        </section>

        <!-- Tasks-Table (right) -->
        <section class="card" id="tasks-card">
            <div class="card-header" style="display:flex; justify-content:space-between; align-items:center;">
                <h2>Tasks</h2>
                <button id="refresh-btn" class="btn btn-secondary">Refresh</button>
            </div>

            <!-- Filter & Sort Controls -->
            <div class="filters">
                <div class="filters-group">
                    <label for="filter-status">Status</label>
                    <select id="filter-status">
                        <option value="">All</option>
                        <option value="OPEN">OPEN</option>
                        <option value="IN_PROGRESS">IN_PROGRESS</option>
                        <option value="DONE">DONE</option>
                    </select>
                </div>

                <div class="filters-group">
                    <label for="filter-priority">Priority</label>
                    <select id="filter-priority">
                        <option value="">All</option>
                        <option value="LOW">LOW</option>
                        <option value="MEDIUM">MEDIUM</option>
                        <option value="HIGH">HIGH</option>
                    </select>
                </div>

                <div class="filters-group">
                    <label for="filter-project">Project</label>
                    <select id="filter-project">
                        <option value="">All projects</option>
                        <!-- options injected by app.js -->
                    </select>
                </div>

                <div class="filters-group">
                    <label for="sort-by">Sort by</label>
                    <select id="sort-by">
                        <option value="createdAt">Created</option>
                        <option value="title">Title</option>
                        <option value="status">Status</option>
                        <option value="priority">Priority</option>
                        <option value="dueDate">Due date</option>
                    </select>
                </div>

                <div class="filters-group">
                    <label for="sort-dir">Direction</label>
                    <select id="sort-dir">
                        <option value="asc" selected>Asc</option>
                        <option value="desc">Desc</option>
                    </select>
                </div>
            </div>

            <div class="table-wrapper">
                <table id="tasks-table">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Description</th>
                        <th>Status</th>
                        <th>Priority</th>
                        <th>Project</th>
                        <th>Due</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- rows injected by app.js -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>
</div>

<script src="/app.js"></script>
</body>
</html>